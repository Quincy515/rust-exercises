// &'static and T: 'static
// 'static æ˜¯ä¸€ä¸ª Rust ä¿ç•™çš„ç”Ÿå‘½å‘¨æœŸåç§°ï¼Œåœ¨ä¹‹å‰æˆ‘ä»¬å¯èƒ½å·²ç»è§è¿‡å¥½å‡ æ¬¡äº†:

#![allow(unused)]
fn demo() {
    // å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ 'static :
    let s: &'static str = "hello world";

    // 'static ä¹Ÿå¯ä»¥ç”¨äºç‰¹å¾çº¦æŸä¸­:
    fn generic<T>(x: T)
    where
        T: 'static,
    {
    }
}

// è™½ç„¶å®ƒä»¬éƒ½æ˜¯ 'staticï¼Œä½†æ˜¯ä¹Ÿç¨æœ‰ä¸åŒã€‚

// &'static
// ä½œä¸ºä¸€ä¸ªå¼•ç”¨ç”Ÿå‘½å‘¨æœŸï¼Œ&'static è¯´æ˜è¯¥å¼•ç”¨æŒ‡å‘çš„æ•°æ®å¯ä»¥è·Ÿç¨‹åºæ´»å¾—ä¸€æ ·ä¹…ï¼Œ
// ä½†æ˜¯è¯¥å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¾ç„¶æœ‰å¯èƒ½è¢«å¼ºè½¬ä¸ºä¸€ä¸ªæ›´çŸ­çš„ç”Ÿå‘½å‘¨æœŸã€‚

// 1ã€ğŸŒŸğŸŒŸ æœ‰å¥½å‡ ç§æ–¹æ³•å¯ä»¥å°†ä¸€ä¸ªå˜é‡æ ‡è®°ä¸º 'static ç”Ÿå‘½å‘¨æœŸ,
// å…¶ä¸­ä¸¤ç§éƒ½æ˜¯å’Œä¿å­˜åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ç›¸å…³
// ( ä¾‹å¦‚å­—ç¬¦ä¸²å­—é¢é‡å°±æ˜¯ä¿å­˜åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸæ˜¯ 'statci )ã€‚

/* ä½¿ç”¨ä¸¤ç§æ–¹æ³•å¡«ç©º */
fn main() {
    let v1 = "hello";
    let v2: &'static str = v1;
    const v3: &str = "hello";
    need_static(v1);
    need_static(v2);
    need_static(v3);


    println!("Success!")
}

fn need_static(r: &'static str) {
    assert_eq!(r, "hello");
}
